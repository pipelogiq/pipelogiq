# Common
APP_ID=PipelogiqGo
POSTGRES_USER=pipelogiq
POSTGRES_PASSWORD=pipelogiq
POSTGRES_DB=pipelogiq
DATABASE_URL=postgres://pipelogiq:pipelogiq@pipelogiq-postgres:5432/pipelogiq?sslmode=disable
RABBITMQ_URL=amqp://guest:guest@pipelogiq-rabbitmq:5672/
LOG_LEVEL=info
OTEL_EXPORTER_OTLP_ENDPOINT=tempo:4317
OTEL_EXPORTER_OTLP_PROTOCOL=grpc
OTEL_EXPORTER_OTLP_INSECURE=true
OTEL_TRACES_SAMPLER=parentbased_traceidratio
OTEL_TRACES_SAMPLER_ARG=1
OTEL_SERVICE_NAME_API=pipeline-api
OTEL_SERVICE_NAME_WORKER=pipeline-worker

# API
HTTP_ADDR=:8080
GATEWAY_VISIBILITY_TIMEOUT=60s
GATEWAY_MAX_INFLIGHT=128
RABBIT_PREFETCH=10
RABBIT_DLQ_ENABLED=true
RABBIT_DLQ_TTL=30s
WORKER_HEARTBEAT_INTERVAL=15s
WORKER_OFFLINE_AFTER=45s
WORKER_SESSION_TTL=24h
WORKER_EVENTS_MAX_BATCH=200
LIQUIBASE_ENABLED=true
# Optional override; defaults to jdbc:postgresql://pipelogiq-postgres:5432/${POSTGRES_DB}
# LIQUIBASE_URL=jdbc:postgresql://pipelogiq-postgres:5432/pipelogiq
# Optional override; defaults to /app/database/changelog.xml in pipeline-api image
# LIQUIBASE_CHANGELOG_FILE=/app/database/changelog.xml

# Worker
WORKER_POLL_INTERVAL=1s
STAGE_PENDING_TIMEOUT=5m
WORKER_METRICS_ADDR=:9090

# Grafana
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# Default Admin User (created on first startup if not exists)
ADMIN_EMAIL=admin@pipelogiq.local
ADMIN_FIRST_NAME=Admin
ADMIN_LAST_NAME=User
# Default password: admin123
# To generate your own hash: htpasswd -bnBC 12 "" "yourpassword" | tr -d ':\n'
ADMIN_PASSWORD_HASH=$2a$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/X4.qiLrLwlZQOGUHy
